(function(){function x(N,T,R,U,P){var S=T?T.ownerDocument:document;var M=S.createElement(N);if(R){for(var L in R){if(L=="style"){var W=R[L];for(var X in W){M.style.setProperty(X,W[X])}}else{M[L]=R[L]}}}if(U&&N=="script"){var O=false;var V=function(){if(O){return}O=true;U()};M.onload=V;M.onreadystatechange=function(){if(this.readyState=="loaded"){V()}}}if(T){try{T.insertBefore(M,P)}catch(Q){T.insertBefore(M)}}return M}function r(){var L={};(location.search||"").replace(/([^=^&^?]+)=([^&]*)/g,function(O,N,M){L[N]=M});return L}function t(P,N,O){var L=function(S,Q,R){S[R]=function(){return Q[R].apply(Q,arguments)}};for(var M in O){L(P,N,O[M])}}function c(L){if(!L){return L}var N=L.length,P=[],O={};while(N--){var M=L[N];if(!O[M]){O[M]=true;P.push(M)}}return P}function o(N,M){N=N||{};for(var L in M){N[L]=M[L]}return N}function y(N,L){var M=N.className;L=M!==""?" "+L:L;N.className+=L}function D(L){if(L.trim){return L.trim()}else{return L.replace(/^\s+|\s+$/g,"")}}var J=function(){function M(){if(/http:\/\/.+\.(loc)\.flyapps\.me\//.test(location.href)||/http:\/\/loc\.flyapps\.me\//.test(location.href)||/http:\/\/.+test\.flyapps\.me\//.test(location.href)){return C.DEBUG}else{if(/http:\/\/.+\.(stg|test)\.flyapps\.me\//.test(location.href)){return C.INFO}else{if(/http:\/\/.+\.flyapps\.me\//.test(location.href)){return C.ERROR}}}return C.DEBUG}function L(){var N=r()["doatloggeroutput"];if(N){switch(N){case"console":return C.consoleLogger;break;case"inline":return C.writeLogger;break;case"alert":return C.alertLogger;break;case"popup":return C.popupLogger;break;default:if(window[N]){return window[N]}}}return C.consoleLogger}return new C(M(),L())};function w(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var N=arguments[0],M=arguments[1],L=arguments[2];if(typeof N.addEventListener!=="undefined"){N.addEventListener(M,L,false)}else{if(N.attachEvent){N.attachEvent("on"+M,L,false)}}}function j(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var N=arguments[0],M=arguments[1],L=arguments[2];if(typeof N.removeEventListener!=="undefined"){N.removeEventListener(M,L,false)}else{if(N.detachEvent){N.detachEvent("on"+M,L)}}}var z=function(L,N){var M;for(M in N){if(typeof(L[M])=="undefined"){return false}}for(M in N){if(N[M]){switch(typeof(N[M])){case"object":if(!N[M].equals(L[M])){return false}break;case"function":if(typeof(L[M])=="undefined"||(M!="equals"&&N[M].toString()!=L[M].toString())){return false}break;default:if(N[M]!=L[M]){return false}}}else{if(L[M]){return false}}}for(M in L){if(typeof(N[M])=="undefined"){return false}}return true};function I(){var O=[],L={},M=function(){return{error:"OK"}};this.bind=R;this.unbind=S;this.trigger=N;this.attach=Q;this.setAuthFunc=P;w(window,"message",T);function T(U){var Z=M(U);if(Z.error==="OK"){var Y=JSON.parse(U.data);Y=o(Y,Z.attachData);var W=O[Y.msnEventType];if(W){var ab={source:U.source,type:Y.msnEventType};delete Y.msnEventType;var aa=Y;for(var V=0;V<W.length;V++){var X=W[V];X(ab,aa)}}}}function R(W,Y){W=(W instanceof Array)?W:[W];for(var U in W){var X=W[U];var V=O[X];if(!V){O[X]=V=[]}V.push(Y)}}function S(W,X){if(!X){O[W]=null}else{for(var U=O[W],V=U?U.length-1:-1;V>=0;--V){if(U[V]===X){U.splice(V,1);return}}}}function N(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=window.parent}var V=arguments[0];var U=arguments[2]||{};U.msnEventType=arguments[1];U=o(U,L);V.postMessage(JSON.stringify(U),"*")}function Q(U){L=U}function P(U){M=U}}function l(U,S){var Q=a.Log||new J();var O=new G();O.load(Q);if(S){var M=new n();M.load(Q)}U.bind([a.Events.USER_ACTION,a.Events.PAGE_VIEW],T);U.bind([a.Events.WINDOW_LOADED,a.Events.RENDER_END],P);U.bind(a.Events.NO_RESULTS,L);U.bind([a.Events.RENDER_END,a.Events.NO_RESULTS],function(V,W){U.unbind(a.Events.RENDER_END,P);if(M){M.report(V.type)}});U.bind(a.Events.SEARCH_ERROR,R);function L(V,W){O.report(["_trackEvent","Tracing",V.type,W.query])}function R(V,W){Q.error("Error getting search results "+JSON.stringify(W));L(V,W)}function T(V,Y){var X;switch(Y.action){case"Navigate":X="/"+Y.to;X+=(Y.title)?"/"+Y.title.replace("/","-"):"";break;case"Search":case"PageView":var W=Y.newQuery||Y.query;Y.page=Y.page||"search";X="/"+Y.page;X+=(W)?"/"+W.replace("/","-"):"";break;default:return false}O.report(["_trackPageview",X]);return true}function P(V){var W=-1;if(typeof doat_ts!=="undefined"){W=new Date().getTime()-doat_ts}O.report(["_trackEvent","Tracing",V.type,N(W),W])}function N(W){var V;for(V=0;V<=5;V++){if(W/1000<V){return"under "+V+" sec"}}return"over "+(V-1)+" sec"}}function G(){var L,N,M;if(/loc\.flyapps\.me/.test(location.host)){L="UA-16876190-2";N=".loc.flyapps.me"}else{if(/test\.flyapps\.me/.test(location.host)){L="UA-16876190-8";N=".test.flyapps.me"}else{if(/stg\.flyapps\.me/.test(location.host)){L="UA-16876190-7";N=".stg.flyapps.me"}else{if(/flyapps\.me/.test(location.host)){L="UA-16876190-4";N=".flyapps.me"}}}}this.report=function(P){try{_gaq.push(P);var Q=(!_gaq.length)?"GA object":"temp array";M.info("Pushed event to _gaq ("+Q+") -> "+JSON.stringify(P))}catch(O){M.error("An error occured when performing _gaq.push ("+JSON.stringify(P)+")")}};this.load=function(P){M=P;var O=(typeof doat_appName=="undefined")?location.host.split(".")[0]:doat_appName;_gaq=(typeof _gaq!=="undefined")?_gaq:[];_gaq.push(["_setAccount",L],["_setDomainName",N],["_setCustomVar",1,"appname",O]);M.info('Loading GA for account "'+L+'" under domain "'+N+'" with appname "'+O+'"');x("script",document.getElementsByTagName("HEAD")[0],{type:"text/javascript",src:(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js",async:"true"})}}function n(){var L;this.load=function(M){L=M};this.report=function(N,O){var M="doatJS://report/"+N;L.info('Reporting to native app -> "'+M+'"')}}function C(Q,M,O){var P=C.WARN;var N=C.writeLogger;var L=false;this._isMobileBrowser=C.isMobileBrowser();this.setPrefix=function(R){if(R!="undefined"){L=R}else{L=false}};this.setLogger=function(T){if(T!="undefined"){N=T}if(T===C.writeLogger){var S=document.createElement("div");S.id="logger";S.style.backgroundColor="white";S.style.position="fixed";S.style.top="100px";S.style.left="0";S.style.zIndex="20";S.style.overflow="scroll";S.style.height="400px";document.body.appendChild(S);var R=document.createElement("a");R.innerHTML="clear";R.href="javascript://";R.addEventListener("click",function(){loggerList.innerHTML=""},false);S.appendChild(R);loggerList=document.createElement("ul");S.appendChild(loggerList)}};this.setLevel=function(R){if(R!="undefined"&&typeof R=="number"){P=R}else{if(R!="undefined"){if(R=="debug"){P=C.DEBUG}else{if(R=="info"){P=C.INFO}else{if(R=="error"){P=C.ERROR}else{if(R=="fatal"){P=C.FATAL}else{if(R=="warn"){P=C.WARN}else{P=C.NONE}}}}}}}};this.getPrefix=function(){return L};this.getLogger=function(){return N};this.getLevel=function(){return P};if(Q!="undefined"){this.setLevel(Q)}if(M!="undefined"){this.setLogger(M)}if(O!="undefined"){this.setPrefix(O)}}C.prototype.debug=function(){if(this.getLevel()<=C.DEBUG){this._log("DEBUG",this,arguments)}};C.prototype.info=function(){if(this.getLevel()<=C.INFO){this._log("INFO",this,arguments)}};C.prototype.warn=function(){if(this.getLevel()<=C.WARN){this._log("WARN",this,arguments)}};C.prototype.error=function(){if(this.getLevel()<=C.ERROR){this._log("ERROR",this,arguments)}};C.prototype.fatal=function(){if(this.getLevel()<=C.FATAL){this._log("FATAL",this,arguments)}};C.prototype._log=function(M,S,L){var O=new Date();var U="";U+=((O.getHours()<10)?"0"+O.getHours():O.getHours());U+=":"+((O.getMinutes()<10)?"0"+O.getMinutes():O.getMinutes());U+=":"+((O.getSeconds()<10)?"0"+O.getSeconds():O.getSeconds());U+="."+((O.getMilliseconds()<100)?((O.getMilliseconds()<10)?"00"+O.getMilliseconds():"0"+O.getMilliseconds()):O.getMilliseconds());var N=[],P="("+U+")";if(this._isMobileBrowser){var Q=P+" ";for(var R=0,T=L.length;R<T;R++){Q+=" "+L[R]}N=[Q]}else{N=["("+U+")"];for(R in L){N.push(L[R])}}this.getLogger()(M,S,N)};C.DEBUG=1;C.INFO=2;C.WARN=3;C.ERROR=4;C.FATAL=5;C.NONE=6;C.alertLogger=function(N,M,L){alert(N+" - "+L.join(" "))};C.writeLogger=function(P,O,M){var L=document.createElement("li");L.innerHTML=P+"&nbsp;:&nbsp;"+M.join(" ");var N=loggerList.getElementsByTagName("li")[0];loggerList.insertBefore(L,N)};C.consoleLogger=function(O,N,M){if(window.console){try{window.console[O.toLowerCase()].apply(window.console,M)}catch(L){try{window.console[O.toLowerCase()](M)}catch(L){window.console.log(O+":"+M)}}}};C.popupLogger=function(S,P,N){var R=N.join(" ");if(P.popupBlocker){return}if(!P._window||!P._window.document){P._window=window.open("","logger_popup_window","width=420,height=320,scrollbars=1,status=0,toolbars=0,resizable=1");if(!P._window){P.popupBlocker=true;alert("You have a popup window manager blocking the log4js log popup display.\n\nThis must be disabled to properly see logged events.");return}if(!P._window.document.getElementById("loggerTable")){P._window.document.writeln("<table width='100%' id='loggerTable'><tr><th align='left'>Level</th><th width='100%' colspan='2' align='left'>Message</th></tr></table>");P._window.document.close()}}var O=P._window.document.getElementById("loggerTable");var Q=O.insertRow(-1);var M=Q.insertCell(-1);var L=Q.insertCell(-1);M.style.fontSize="8pt";L.style.fontSize="8pt";L.style.whiteSpace="nowrap";L.style.width="100%";if(O.rows.length%2==0){M.style.backgroundColor="#eeeeee";L.style.backgroundColor="#eeeeee"}M.innerHTML=S;L.innerHTML=R};C.dumpObject=function(P,L){if(!L){L=""}if(L.length>20){return}var N="{\n";for(var O in P){N+=L+O+":";var M=typeof(P[O]);M=M.toLowerCase();if(M=="object"){N+=C.dumpObject(P[O],L+"----")}else{N+=P[O]}N+="\n"}N+=L+"}";return N};C.isMobileBrowser=function(M){!M&&(M=navigator.userAgent);M=M.toLowerCase();var L=/(iphone|ipad|android|symbian|webos|windows phone os)/.exec(M)||[];return L[1]};var s=function(){var R=this,N=navigator,P="everything",O="extractor",M="extractor_config",Q="sites",L;this.init=function(){var S=window[M]=window[M]||{};L=S[Q]=S[Q]||[]};this.set=function(T){!(T instanceof Array)&&(T=[T]);for(var S=0;S<T.length;S++){L.push(T[S])}};this.getItems=function(){var S=N[P][O].getItems?N[P][O].getItems():"NOT IMPLEMENTED";return S};R.init()};function e(){var O="http://doatresizer.appspot.com/?url={src}&width={width}&height={height}&cache=short&crop={crop}&default={default}",N={searchbar:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><input type="text" data-defaulttext="{defaulttext}" onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" data-clearbutton={clearbutton}/></form>'},searcharea:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><textarea onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" clearbutton={clearbutton}>{defaulttext}</textarea></form>'},navigate:{type:"replace",html:'<a href="javascript://" class="{class}" onclick="TouchyJS.Navigation.goTo(\'{to}\')"><span>{label}</span></a>'},image:{type:"image",html:'<img src="'+O+'" alt="{alt}" />'}},Q="tml",R={autoinit:"false"};var P=/\{([^}]*)\}/g;var L=function(T,U){var S={};return U?(""+U).replace(P,function(V,W){if(!S.hasOwnProperty(W)){S[W]=T.getAttribute(W)?T.getAttribute(W):R.hasOwnProperty(W)?R[W]:""}return S[W]}):U};var M=function(S,U){if($(S).replaceWith){$(S).replaceWith($(U))}else{var T=$(U)[0];S.parentNode.replaceChild(T,S)}};this.parse=function(T){!T&&(T=document.body);for(var W in N){if(N.hasOwnProperty(W)){var S=Q+":"+W;var V=T.getElementsByTagName(S);for(var U=0;U<V.length;U++){var X=L(V[U],N[W].html);M(V[U],X);U--}}}};this.getImage=function(S){var T=new function(U){this.getAttribute=function(V){return U[V]}}(S);return L(T,O)}}function K(Q){var U=this,T,R,M=Q&&Q.isTouch||("ontouchstart" in window);var N=function(X){X=(X||navigator.userAgent).toLowerCase();T={};T.platform=S(X);T.browser=O(X);T.os=W(X);T.orientation=P.getNew();T.screen=L.get(X);T.connection=V.get()};var S=function(Z){var aa="",Y="",X;X=/(iphone|ipad)|(android|htc_)|(symbian)|(webos)|(blackberry|playbook|windows phone os)/.exec(Z)||[,"desktop"];aa=X[1]||X[2]&&"android"||X[3]&&"nokia"||X[4]&&"hp"||X[5]&&"";return{name:aa,version:Y}};var W=function(Z){var aa="",Y="",X;X=/(iphone|ipad)|(android|htc_)|(symbian|webos)|(blackberry|playbook)|(windows phone os)/.exec(Z)||[];aa=X[1]&&"ios"||X[2]&&"android"||X[3]||X[4]&&"blackberry"||X[5]&&"windowsphoneos";if(!aa){X=/(Win32)|(Linux)|(MacIntel)/.exec(navigator.platform)||[];aa=X[1]&&"windows"||X[2]||X[3]&&"mac"||""}switch(aa){case"ios":Y=/os\s([\d_]+)\slike/.exec(Z);Y=Y[1].replace(/_/g,".");break;case"android":Y=/android\s([\d\.\-]+)[^;]*;/.exec(Z);Y=Y&&Y[1]&&Y[1].replace(/-/g,"");break}return{name:aa,version:Y}};var O=function(Z){var aa,Y="",X;Z=Z.toLowerCase();X=/(webkit)(?:[\/]|.+fbforiphone)/.exec(Z)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(Z)||/(msie) ([\w.]+)/.exec(Z)||Z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(Z)||[];aa=X[1]||"";return{name:aa,version:Y}};this.getScreen=function(){return L.get()};this.setScreen=function(X){return L.set(X)};this.clearScreen=function(X){return L.clear(X)};this.setOrientation=function(X){P.set(X)};this.isTouch=function(){return M};this.isMobile=function(Y){var X=U.getInfo(Y).platform.name;return Q&&Q.isTouch||/^(iphone|ipad|android|nokia|blackberry)$/.test(X)};this.getInfo=function(){if(arguments[0]||!T){var X=(arguments[0]===true)?undefined:arguments[0];N(X)}return T};this.addEventListener=function(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var X=arguments[0],ae=arguments[1],Z=arguments[2],ac=M?"touchstart":"mousedown",ad=M?"touchmove":"mousemove",af=M?"touchend":"mouseup";switch(ae){case"orientationchange":P.onOrientationChange(Z);break;case"swipeX":w(X,"swipeX",Z);break;case"touch":var ab,aa,Y=false;w(X,ac,function(ag){ag=ag.originalEvent||ag;ab={type:"start",position:{x:ag.touches?ag.touches[0].pageX:ag.clientX,y:ag.touches?ag.touches[0].pageY:ag.clientY}};Z(ag,ab);Y=true});w(document,ad,function(ag){if(!Y){return false}ag=ag.originalEvent||ag;aa={type:"move",position:{x:ag.touches?ag.touches[0].pageX:ag.clientX,y:ag.touches?ag.touches[0].pageY:ag.clientY}};aa.delta={x:aa.position.x-ab.position.x,y:aa.position.y-ab.position.y};Z(ag,aa)});w(document,af,function(ah){Y=false;if(!aa||aa.delta.x===0&&aa.delta.y===0){return false}ah=ah.originalEvent||ah;var ag={type:"end",position:aa.position,delta:aa.delta,swipeEvent:true,direction:(aa.delta.x>0)?"ltr":"rtl"};Z(ah,ag);aa=undefined});break}};var P=new function(){var ag=this,X,af="orientation-",ad=new RegExp(af+"[^\\s]+","g"),ac=[],aa="orientation" in window;if(window.addEventListener){window.addEventListener((aa)?"orientationchange":"resize",ae,false);document.addEventListener("DOMContentLoaded",ae,false)}this.set=ae;this.getCurrent=function(){return X||ag.getNew()};this.getOtherName=function(ah){return ah==="portrait"?"landscape":"portrait"};this.getNew=function(){var ah=(aa)?window.orientation:ag.getOrientationByWindowSize();return ab(ah)};this.getOrientationByWindowSize=function(){return(window.innerHeight>window.innerWidth)?0:90};this.onOrientationChange=function(ah){ac.push(ah)};function ae(ai){var ah=(ai&&!(ai.type))?ab(ai):ag.getNew();if(!X||ah.degree!==X.degree){X=ah;Y();Z()}}function Z(){ac.forEach(function(ah){ah(X)})}function ab(aj){var ah,ai;if(typeof aj==="String"){ah=aj;ai=(aj=="landscape")?90:0}else{ai=aj;ah=(Math.abs(aj)==90)?"landscape":"portrait"}return{name:ah,degree:ai}}function Y(){var ah=af+X.name;if(X.degree==90){ah+=" "+af+"landscape-right"}else{if(X.degree==-90){ah+=" "+af+"landscape-left"}}document.body.className=document.body.className.replace(ad,"")+" "+ah}};P.onOrientationChange(function(){T.orientation=P.getCurrent();T.screen=L.get()});var L=new function(){var Y=this,X;function aa(af,ac){!af&&(af=navigator.userAgent);af=af.toLowerCase();var ab=S(af).name;var ae=W(af).name;var ad=["","","",""];if(/^(iphone|ipod)$/.test(ab)){ad=[320,416,480,267]}else{if(ab=="desktop"){ad=[320,416,480,267]}else{if(ae=="android"){if(/nexus s/.test(af)){ad=[320,508,508,295]}else{if(/gt-9000/.test(af)){ad=[320,508,508,320]}else{if(/sonyericssonr800a/.test(af)){ad=[320,544,544,320]}else{if(/htc desire s/.test(af)){ad=[320,533,533,320]}}}}}else{if(ae=="windowsphoneos"){ad=[295,486,"",""]}}}}X={portrait:{width:ad[0],height:ad[1]},landscape:{width:ad[2],height:ad[3]}}}function Z(ac){var ab;if(window.innerWidth<=window.outerWidth&&window.innerWidth!==X[P.getOtherName(ac)].width){ab=window.innerWidth}return ab}this.set=function(ad){for(var ab in ad){for(var ac in ad[ab]){X[ab][ac]=ad[ab][ac]}}};this.get=function(ac){var ab=P.getCurrent().name;if(ac||!X){aa(ac)}!X[ab].width&&(X[ab].width=Z(ab));return X[ab]};this.clear=function(ab){var ac={};ac[ab]={height:"",width:""};Y.set(ac)}};var V=new function(){var ac=this,Y,aa={SPEED_UNKNOWN:100,SPEED_HIGH:30,SPEED_MED:20,SPEED_LOW:10},Z=[{name:undefined,speed:aa.SPEED_UNKNOWN},{name:"etherenet",speed:aa.SPEED_HIGH},{name:"wifi",speed:aa.SPEED_HIGH},{name:"2g",speed:aa.SPEED_LOW},{name:"3g",speed:aa.SPEED_MED}];this.get=function(){return X()};this.set=function(ad){Y=ad||(navigator.connection&&navigator.connection.type)||0;return X()};function X(){return ab({},aa,Z[Y])}function ab(){var ae=arguments[0];for(var ag=1,ad=arguments.length;ag<ad;ag++){for(var af in arguments[ag]){ae[af]=arguments[ag][af]}}return ae}ac.set()}}(function(){var R,N,O="doat_onLocationRetrieved_"+new Date().getTime(),L=(typeof a!="undefined"&&a&&a.Log)||new J();K.prototype.getLocation=function(aa,V){R=aa;if(!V||!V.testProps){if(V&&V.request){L.info("Specific params requested for location",V.request);var W=r(),S={},Z=false,X=false,U=(V.request.constructor===String)?[V.request]:V.request;for(var T=0;T<U.length;T++){var Y="do_loc_"+U[T];if(W[Y]){S[U[T]]=decodeURIComponent(W[Y]);L.info("found "+Y);X=true}else{L.info("could not find "+U[T]+" in querystring");Z=true;if(!V.allowOneFound){break}}}if(!Z||(V.allowOneFound&&X)){L.info("found required location data in querystring");R(M(S));return true}else{L.info("Couldnt find required location data in querystring")}}if(this.isMobile()){navigator.geolocation.getCurrentPosition(function(ab){Q(ab)},function(ab){R(ab)})}else{P(null,"http://geoip.pidgets.com/")}}else{if(V&&V.testProps&&V.testProps.position){Q(V.testProps.position)}}};window[O]=function(S){S=M(S);R(S)};function Q(S){var T="select * from geo.places where woeid in (select place.woeid from flickr.places where lat="+S.coords.latitude+" and  lon="+S.coords.longitude+")";P(T);N=S}function P(W,T){if(document.getElementById("doatenvlocationdata")){var S=document.getElementById("doatenvlocationdata");S.parentNode.removeChild(S)}var X=(T)?T+"?":"http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(W)+"&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys";X+="&format=json&callback="+O;var U=document.getElementsByTagName("head")[0];var V=document.createElement("script");V.setAttribute("id","doatenvlocationdata");V.setAttribute("src",X);U.appendChild(V)}function M(T){var S={};if(T){if(T.latitude&&T.longitude){T.lat=T.latitude;T.lon=T.longitude}if(T.lat&&T.lon){S.position={coords:{latitude:T.lat,longitude:T.lon}}}if(T.query){if(T.query.results&&T.query.results.place){var U=T.query.results.place;S.city=U.locality1&&U.locality1.content;S.country=U.country&&U.country.content;S.zip=U.postal&&U.postal.content}}else{if(T.country_name){S.city=T.city;S.country=T.country_name}else{o(S,T)}}}if(!S.position&&N){S.position=N;N=undefined}return S}})();var F=function(){var L=this,N={};this.addEventListener=function(Q,O){var P=N[Q];if(!P){N[Q]={callbacks:[],enabled:false};P=N[Q]}P.callbacks.push(O);if(P.enabled&&P.callOnce){M(O)}};this.dispatchEvent=function(S,Q){var P=N[S];if(!P){N[S]={callbacks:[],enabled:true};P=N[S]}else{var O=P.callbacks.length;for(var R=0;R<O;++R){M(P.callbacks[R])}}if(Q){o(P,Q)}};var M=function(O){O()};this.ready=function(O){L.addEventListener("ready",O)};this.focused=function(O){L.addEventListener("focused",O)};this.blurred=function(O){L.addEventListener("blurred",O)};this.hidden=function(O){L.addEventListener("hidden",O)};this.visible=function(O){L.addEventListener("visible",O)};this.NO_RESULTS="no results";this.RENDER_START="render start";this.RENDER_END="render end";this.RENDER_VISIBLE_END="render visible end";this.SEARCH_START="search request";this.SEARCH_END="search response success";this.SEARCH_ERROR="search response error";this.WINDOW_LOADED="window loaded";this.DOAT_READY="doat ready";this.DOCUMENT_READY="document ready";this.USER_ACTION="user action";this.PAGE_VIEW="page view";this.ready(function(){N.ready.enabled=true});this.focused(function(){N.focused.enabled=true;N.visible.enabled=N.hidden.enabled=N.blurred.enabled=false});this.visible(function(){N.visible.enabled=true;N.focused.enabled=N.hidden.enabled=N.blurred.enabled=false});this.hidden(function(){N.hidden.enabled=true;N.focused.enabled=N.visible.enabled=N.blurred.enabled=false});this.blurred(function(){N.blurred.enabled=true;N.focused.enabled=N.visible.enabled=N.hidden.enabled=false})};(function(ao,O,V){var L="width",aa="length",aq="radius",aj="lines",ac="trail",af="color",aB="opacity",at="speed",ak="shadow",av="style",N="height",P="left",Q="top",R="px",ad="childNodes",aA="firstChild",S="parentNode",an="position",T="relative",al="absolute",aF="animation",ag="transform",X="Origin",ap="Timeout",Z="coord",ax="#000",ah=av+"Sheets",W="webkit0Moz0ms0O".split(0),aE={},az;function aD(aH,aJ){var aG=~~((aH[aa]-1)/2);for(var aI=1;aI<=aG;aI++){aJ(aH[aI*2-1],aH[aI*2])}}function ay(aG){var aH=O.createElement(aG||"div");aD(arguments,function(aJ,aI){aH[aJ]=aI});return aH}function am(aG,aI,aH){if(aH&&!aH[S]){am(aG,aH)}aG.insertBefore(aI,aH||null);return aG}am(O.getElementsByTagName("head")[0],ay(av));var Y=O[ah][O[ah][aa]-1];function M(aL,aG){var aI=[aB,aG,~~(aL*100)].join("-"),aH="{"+aB+":"+aL+"}",aJ;if(!aE[aI]){for(aJ=0;aJ<W[aa];aJ++){try{Y.insertRule("@"+(W[aJ]&&"-"+W[aJ].toLowerCase()+"-"||"")+"keyframes "+aI+"{0%{"+aB+":1}"+aG+"%"+aH+"to"+aH+"}",Y.cssRules[aa])}catch(aK){}}aE[aI]=1}return aI}function ab(aJ,aK){var aI=aJ[av],aG,aH;if(aI[aK]!==V){return aK}aK=aK.charAt(0).toUpperCase()+aK.slice(1);for(aH=0;aH<W[aa];aH++){aG=W[aH]+aK;if(aI[aG]!==V){return aG}}}function ar(aG){aD(arguments,function(aI,aH){aG[av][ab(aG,aI)||aI]=aH});return aG}function ai(aG){aD(arguments,function(aI,aH){if(aG[aI]===V){aG[aI]=aH}});return aG}var ae=function ae(aG){this.opts=ai(aG||{},aj,12,ac,100,aa,7,L,5,aq,10,af,ax,aB,1/4,at,1)},U=ae.prototype={spin:function(aM){var aO=this,aH=aO.el=aO[aj](aO.opts);if(aM){am(aM,ar(aH,P,~~(aM.offsetWidth/2)+R,Q,~~(aM.offsetHeight/2)+R),aM[aA])}if(!az){var aG=aO.opts,aJ=0,aK=20/aG[at],aL=(1-aG[aB])/(aK*aG[ac]/100),aN=aK/aG[aj];(function aI(){aJ++;for(var aP=aG[aj];aP;aP--){var aQ=Math.max(1-(aJ+aP*aN)%aK*aL,aG[aB]);aO[aB](aH,aG[aj]-aP,aQ,aG)}aO[ap]=aO.el&&ao["set"+ap](aI,50)})()}return aO},stop:function(){var aG=this,aH=aG.el;ao["clear"+ap](aG[ap]);if(aH&&aH[S]){aH[S].removeChild(aH)}aG.el=V;return aG}};U[aj]=function(aL){var aJ=ar(ay(),an,T),aI=M(aL[aB],aL[ac]),aH=0,aG;function aK(aM,aN){return ar(ay(),an,al,L,(aL[aa]+aL[L])+R,N,aL[L]+R,"background",aM,"boxShadow",aN,ag+X,P,ag,"rotate("+~~(360/aL[aj]*aH)+"deg) translate("+aL[aq]+R+",0)","borderRadius","100em")}for(;aH<aL[aj];aH++){aG=ar(ay(),an,al,Q,1+~(aL[L]/2)+R,ag,"translate3d(0,0,0)",aF,aI+" "+1/aL[at]+"s linear infinite "+(1/aL[aj]/aL[at]*aH-1/aL[at])+"s");if(aL[ak]){am(aG,ar(aK(ax,"0 0 4px "+ax),Q,2+R))}am(aJ,am(aG,aK(aL[af],"0 0 1px rgba(0,0,0,.1)")))}return aJ};U[aB]=function(aH,aG,aI){aH[ad][aG][av][aB]=aI};var aC="behavior",aw="url(#default#VML)",au="group0roundrect0fill0stroke".split(0);(function(){var aH=ar(ay(au[0]),aC,aw),aG;if(!ab(aH,ag)&&aH.adj){for(aG=0;aG<au[aa];aG++){Y.addRule(au[aG],aC+":"+aw)}U[aj]=function(){var aP=this.opts,aN=aP[aa]+aP[L],aL=2*aN;function aI(){return ar(ay(au[0],Z+"size",aL+" "+aL,Z+X,-aN+" "+-aN),L,aL,N,aL)}var aM=aI(),aO=~(aP[aa]+aP[aq]+aP[L])+R,aK;function aJ(aR,aQ,aS){am(aM,am(ar(aI(),"rotation",360/aP[aj]*aR+"deg",P,~~aQ),am(ar(ay(au[1],"arcsize",1),L,aN,N,aP[L],P,aP[aq],Q,-aP[L]/2,"filter",aS),ay(au[2],af,aP[af],aB,aP[aB]),ay(au[3],aB,0))))}if(aP[ak]){for(aK=1;aK<=aP[aj];aK++){aJ(aK,-2,"progid:DXImage"+ag+".Microsoft.Blur(pixel"+aq+"=2,make"+ak+"=1,"+ak+aB+"=.3)")}}for(aK=1;aK<=aP[aj];aK++){aJ(aK)}return am(ar(ay(),"margin",aO+" 0 0 "+aO,an,T),aM)};U[aB]=function(aJ,aI,aL,aK){aK=aK[ak]&&aK[aj]||0;aJ[aA][ad][aI+aK][aA][aA][aB]=aL}}else{az=ab(aH,aF)}})();ao.Spinner=ae})(window,document);var B=function(){var ad=a,al="tml_",ai=ad.Env.isMobile(),ae,ag,ax,Q={},S={},X,ab=true,au=false,ak,Z,aj=[],ac=false,U,V;var aw=ad.Env.getInfo().browser.name||ad.Env.getInfo().browser;X=aw==="webkit"?"-webkit-":aw==="mozilla"?"-moz-":"";var at=function(az){az&&(Q=o(Q,az));var aA=document.querySelector(".tml_content");ak=Q.firstPageId||aA&&aA.id};var M=function(){var aA=arguments;var aB=(typeof aA[0]==="string")?aA[0]:aA[0].get?aA[0].get(0).getAttribute("id"):aA[0].getAttribute("id"),aD=aA[1],aC=(typeof aA[2]==="string")?aA[2].toLowerCase():"oncomplete",az=(typeof aA[2]==="string")?aA[3]:aA[2];S[aB]=S[aB]||{};S[aB][aC]=S[aB][aC]||{};S[aB][aC][aD]=az};var P=function(aI,aJ,aC){!aJ&&(aJ=O().urlParams);if(!aI||au){return false}au=true;var aH=(aI.constructor===String)?$("."+al+"content#"+aI):$(aI);if(!aC){W(aH,aJ)}if(ae[0].id==aH[0].id&&ae.css("display")=="block"){ao(aH,aJ);return false}else{if(aJ&&aJ.transition=="none"){var aE={left:"0%",display:"block"};aE[X+"transition-duration"]="0";aE[X+"transform"]="translateX(0)";aH.css(aE);var aA={display:"none"};if("outElementStyle" in aJ){for(var aD in aJ.outElementStyle){aA[aD]=aJ.outElementStyle[aD]}}ae.css(aA);ao(aH,aJ)}else{if(aJ&&aJ.transition=="fade"){ae.css("z-index",2);if(ai){aH.css(X+"transition-duration","0");aH.css(X+"transform","translateX(0)")}else{aH.css("left",0)}aH.css("display","block");ae.css(X+"transition","opacity 0.5s linear").css("opacity",0);setTimeout(function(){ae.css("display","none").css(X+"transition-duration","0").css({"z-index":1,opacity:1});ao(aH,aJ)},200)}else{var aG=aJ&&aJ.direction||aa(aH),az=(aG==="rtl")?"100%":"-100%",aB=(aG==="rtl")?"-100%":"100%";if(ai){aH.css(X+"transition-duration","0");aH.css(X+"transform","translateX("+az+")")}else{aH.css("left",az)}aH.css("display","block");setTimeout(function(){aH.animate({left:"0%"});ae.animate({left:aB},function(){ao(aH,aJ)})},200)}}}if(!aJ||aJ.muteEventReport!==true){var aF={action:"Navigate",to:aH[0].id};if(aJ&&aJ.title){aF.title=aJ.title.replace("/","-")}if(aJ&&aJ.id&&aJ.id.replace){aF.id=aJ.id.replace("/","-")}if(ad.Messenger){ad.Messenger.trigger(ad.Events.USER_ACTION,aF)}}a.Viewport.hideAddressBar();return true};var af=function(){if(V){var az=O().firstPage;if(az){aq(ak,{direction:"ltr"})}else{history.back()}}else{aq(ag,{muteEventReport:true})}a.Viewport.hideAddressBar()};var aq=function(aD,aC,aE){!aC&&(aC={});if(V){aD.constructor!==String&&(aD=$(aD)[0].id);var az=O().urlParams;if(aC.url){for(var aA in aC.url){az[aA]=aC.url[aA]}delete aC.url}az.topage=aD;if(z(az,ay())){return false}var aF=[];for(var aA in az){if(!(aA==="topage"&&az[aA]===ak)){aF.push(aA+"="+(az[aA]||""))}}var aB="?"+aF.join("&");o(aC,{firstPage:false,urlParams:az});window.history.pushState(aC,null,aB)}P.apply(this,arguments)};var N=function(aA,aB){var az=ae.next();if(az&&az.hasClass("tml_content")){aq(az,aA,aB)}};var an=function(az,aB){var aA=ae.prev();if(aA&&aA.hasClass("tml_content")){aq(aA,az,aB)}};var W=function(az,aA){var aC=ae[0].id,aB=az[0].id;o(aA,{currentElement:ae[0],nextElement:az[0]});T(aA,["*","onstart","in"]);T(aA,[aB,"onstart","in"]);if(aC!=aB){T(aA,[aC,"onstart","out"])}T(aA,aA,["onStart"])};var ao=function(az,aA){var aC=ae[0].id,aB=az[0].id;ag=ae;ae=az;o(aA,{currentElement:ae[0],nextElement:ag[0]});T(aA,["*","oncomplete","in"]);T(aA,[aB,"oncomplete","in"]);if(aC!=aB){ag.css("display","none");T(aA,[aC,"oncomplete","out"])}T(aA,aA,["onComplete"]);au=false};var T=function(aD,aE,aC){var aA=true;if(!aC){aC=aE;aE=S}if(!aE){return false}for(var aB=0,az=aC.length;aB<az;aB++){aE=aE[aC[aB]];if(!aE){aA=false;break}}aA&&aE(aD)};var aa=function(az){var aA=ap(az);var aB=(aA&&aA!==""&&aA!=="none")?(aA==="translateX(-100%)"):(az.get(0).style.left==="-100%");return aB?"ltr":"rtl"};var ap=function(aA){var az=aA.css(X+"transform"),aB=aA[0].style[X+"transform"];return az&&az!==""&&az!=="none"?az:aB};var Y=function(az){if(az.constructor===String){ae=$("#"+az)}else{ae=$(az)}!ak&&(ak=az.id)};var ar=function(){return ae[0]};var L=function(){if(ae&&ax!==ae[0].offsetHeight){ax=ae[0].offsetHeight;return ax}return false};var ah=function(aB){if(aB&&aB.state){var aA=av(aB);var az=aA.urlParams.topage||ak;P(az,aA)}};var R=function(){var az=ay(),aC=az.topage||ak,aA={transition:"none",outElementStyle:{}};if(a.Env.isMobile()){aA.outElementStyle[X+"transform"]="translateX(-100%)"}else{aA.outElementStyle["left"]="-100%"}var aB=O();if(!aB||aB.firstPage===undefined){aB={firstPage:true,urlParams:az};av({state:aB});window.history.replaceState(aB,null)}o(aA,{firstPage:true,urlParams:az});P(aC,aA)};var am=function(){V=true;window.addEventListener("popstate",ah,false);R()};var ay=function(){var aA=r();for(var az in aA){aA[az]=decodeURIComponent(aA[az])}return aA};var O=function(){var aA={};if(U){for(var az in U){aA[az]=U[az]}}return aA};var av=function(az){return U=az&&az.state};return{init:at,initHistory:am,goTo:aq,next:N,previous:an,back:af,attachCallback:M,bind:M,setCurrent:Y,getCurrent:ar,hasNewContentHeight:L,Indicator:new g()}};function g(){var O,Q,M,R={lines:10,length:7,width:3,radius:7,color:"#ffffff",speed:1.4,trail:72,shadow:true,parent:document.body},L={position:"absolute",left:"50%",top:"50%","z-index":200};var P=function(U){var S={};for(i in R){S[i]=R[i]}for(i in U){S[i]=U[i]}var T=U.parent||$(document.body);$mainEl=T.find(".doml-progress-indicator");if($mainEl.length===0){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(L);T.append($mainEl)}M=$mainEl[0];Q=new Spinner(S);Q.spin(M)};var N=function(){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(L);$(document.body).append($mainEl);M=$mainEl[0];O=new Spinner(R)};this.show=function(S){if(S){P(S)}else{if(!O){N()}O.spin(M)}};this.hide=function(){if(Q){Q.stop()}if(O){O.stop()}}}var b=function(U){var ah=this,Q,W,ae,X,aa=[],al=[],L="tml-searchbar-keyboard-visible",ac,ad="default";this.clearValue=M;this.fillValue=S;this.setValue=O;this.getInputElement=T;this.submitFunc=N;this.blur=ai;this.focus=ab;this.onKeyboardVisible=Z;this.onKeyboardHidden=V;a.Events.ready(ak);function ak(){Q=document.getElementById("tml-searchbar-searchfield");if(Q){ae=$(document.body);X=document.getElementById("tml-searchbar-form");ah.submit=X.onsubmit;ac=Q.getAttribute("data-defaulttext");Q.addEventListener("focus",R,false);Q.addEventListener("blur",Y,false);Q.addEventListener("touchstart",function(){a.Viewport.hideAddressBar()},false);if(U&&U.searchClearButton){af(U)}O("");a.Nav.bind("*","in","onstart",function(an){if(!an||!an.urlParams){return}var am=an.urlParams.do_query||"";O(am)})}}function af(am){if(T().getAttribute("data-clearbutton")!==""){W=new A();var an=am&&am.css||{};!an.left&&(an.left=Q.offsetWidth);buttonEl=W.init({css:an,onClick:function(){O("",true);ab()}});var ao=T().parentNode;ao.style.position="relative";ao.appendChild(buttonEl)}}function M(){Q.className="";if(!ac){return}if(P()===ac){O("",true)}}function S(){if(!ac){return}if(P()===""){O(ac)}}function N(am){a.Viewport.hideAddressBar();if(P()!==""&&P()!==ac){am&&am()}ai()}function ab(){Q.focus()}function ai(){Q.blur()}function Z(am){aa.push(am)}function V(am){al.push(am)}function O(an,am){if(!am&&!an){an=ac||""}if(ac){Q.className=ad}Q.value=ag(an)}function P(){return ag(Q.value)}function T(){return Q}function aj(){a.Messenger.trigger(a.Events.USER_ACTION,{action:"Search",newQuery:P()});ai()}function R(){a.Viewport.hideAddressBar();ae.addClass(L);M();for(var an=0,am=aa.length;an<am;an++){aa[an].call(Q)}}function Y(){ae.removeClass(L);S();for(var an=0,am=al.length;an<am;an++){al[an].call(Q)}}function ag(am){return am.replace(/\+/g," ")}this.getValue=function(){var am=P();return am!==ac?am:""}};function A(){var M,L={position:"absolute",top:"5px",cursor:"pointer","background-color":"#BBBBBB",width:"16px",height:"16px","text-align":"center","line-height":"17px","border-radius":"8px","-webkitborder-radius":"8px","-moz-border-radius":"8px",color:"white","font-weight":"bold","font-size":"12px","font-family":"arial","text-shadow":"none",leftOffset:-19};this.init=function(N){for(i in N.css){L[i]=N.css[i]}L.left=L.left+L.leftOffset+"px";M=$("<span/>");M.addClass("tml-searchbar-clear").html("X").css(L).click(function(O){O.preventDefault();N.onClick()});return M[0]};this.show=function(){M.show()};this.hide=function(){M.hide()}}var u=function(){var af,U,ad,ac,Y,W,ae,R,V,S,M,aa,X;this.init=function(ai){var al;if(ai&&ai.id&&document.getElementById(ai.id)){al=$("#"+ai.id)}else{return false}if(typeof a!=="undefined"){U=a.Env.isMobile();var ah=a.Env.getInfo().browser;ad=ah==="webkit"?"-webkit-":ah==="mozilla"?"-moz-":""}else{U=true}S=ai.trackWidth;X=ai.onSelect;ae=U?"touchstart":"mousedown";R=U?"touchmove":"mousemove";V=U?"touchend":"mouseup";af=$('<div class="doml-slider" />');al.parent().append(af);af.append(al);var am=[];al.children().each(function(){var an=$("<div/>");$(this).appendTo(an);am.push(an.html())});itemArrLength=am.length;aa=S/itemArrLength;var ag=$('<div class="wrapper">');ag.css("width",S+"px");af.append(ag);$eventCaptureEl=$('<div class="eventCapture" />');$eventCaptureEl.css("width",S+"px");$eventCaptureEl.bind(ae,P,false);document.addEventListener(V,L,false);ag.append($eventCaptureEl);handleWrapper=new Z();var aj=handleWrapper.init();ag.append(aj);W=new O();var ak=W.init(am);aj.append(ak);return true};var P=function(ah){document.addEventListener(R,Q,false);var ai=ab(ah);var ag=N(ai);if(ag!==M){M=ag;W.update(M)}handleWrapper.update(ai,M);W.show()};var Q=function(ah){ah.preventDefault(ah);var ai=ab(ah);if(ai<=S&&ai>=0){var ag=N(ai);if(ag!==M){M=ag;W.update(M)}handleWrapper.onTouchMove();handleWrapper.update(ai,M)}};var L=function(ag){handleWrapper.onTouchEnd();document.removeEventListener(R,Q);var ah=T(M);handleWrapper.update(ah);W.hide();if(X){X(M)}};var N=function(ah){var ag=(ah/S)*itemArrLength;ag=parseInt(ag,10);return ag};var ab=function(ag){ag=ag.touches&&ag.touches[0]||ag.originalEvent&&ag.originalEvent.touches&&ag.originalEvent.touches[0]||ag;return ag.clientX};var T=function(ag){return ag*aa};function Z(){var ag;this.init=function(ai){ag=$('<div class="handle_wrapper"><div class="handle"/></div>');return ag};this.update=function(ai){ah(ai)};this.onTouchMove=function(){ag.addClass("dragged")};this.onTouchEnd=function(){ag.removeClass("dragged")};var ah=function(ai){ag.css(ad+"transform","translateX("+ai+"px)")}}function O(){var ah=this;var ai,ag,ak,aj;this.init=function(al){aj=al;ai=$('<div class="preview"/>');ag=$('<div class="content"/>');ai.append(ag);ak=$('<span class="indicator"/>');ai.append(ak);ah.hide();return ai};this.show=function(){ai.addClass("displayed")};this.update=function(al){ag.html(aj[al]);ak.html(al+1+" of "+aj.length)};this.hide=function(){ai.removeClass("displayed")}}};function H(){var ah=null,V=null,T=null,X=null;var W=0,U=0,S=false,Q=true,R=false;var L=320,P=0,ab=5,ae=0,N=null;var af="0.5",M=4000;var Y=this;this.init=function(aj){aj=aj||{};ah=aj.element||null;V=aj.navElement||null;T=aj.itemsElement||null;X=aj.onSelect||null;aj.itemWidth&&(L=aj.itemWidth);aj.thumbWidth&&(P=aj.thumbWidth);aj.numVisibleThumbs&&(ab=aj.numVisibleThumbs);aj.animationSpeed&&(af=aj.animationSpeed);aj.autoplay&&(typeof aj.autoplay=="number")&&(M=aj.autoplay);Q=(typeof aj.stopAutoplayOnTouch=="boolean")?aj.stopAutoplayOnTouch:true;R=(typeof aj.thumbsSwipe=="boolean")?aj.thumbsSwipe:false;onHitStartArr=[],onHitEndArr=[],onHitStart=function(){onHitStartArr.forEach(function(ak){ak.apply(arguments)})};onHitEnd=function(){onHitEndArr.forEach(function(ak){ak.apply(arguments)})};aj.onHitStartCallback&&onHitStartArr.push(aj.onHitStartCallback);aj.onHitEndCallback&&onHitEndArr.push(aj.onHitEndCallback);ae=T.find("li").length;Z();aa();if(V){var ai=V.find("li");ai.click(function(){Y.setItemByThumb(this)});$(ai[0]).addClass("active")}ad();if(aj.autoplay){Y.autoplayStart();if(aj.stopAutoplayOnFocus){a.Events.focused(function(){Y.autoplayStop()});a.Events.blurred(function(){Y.autoplayStart()})}}};function aa(){var ai=T.parent().get(0);a.Env.addEventListener(ai,"touch",function(ak,aj){switch(aj.type){case"start":ag(T);Q&&Y.autoplayStop();break;case"move":Y.move(aj.delta.x);break;case"end":if(!aj.swipeEvent){Y.showCurrentItem()}else{ak=ak.originalEvent||ak;ak.preventDefault();O(T);if(aj.direction=="rtl"){Y.next()}else{Y.prev()}}break}});if(V&&R){ai=V.parent().get(0);a.Env.addEventListener(ai,"touch",function(ak,aj){switch(aj.type){case"start":ag(V);Q&&Y.autoplayStop();break;case"move":Y.moveTabs(aj.delta.x);break;case"end":if(!aj.swipeEvent){Y.showCurrentItem(true)}else{ak=ak.originalEvent||ak;ak.preventDefault();O(V);if(aj.direction=="rtl"){Y.nextTabs()}else{Y.prevTabs()}}break}})}$(document).bind("keyup",function(aj){if(S){switch(aj.keyCode){case 36:Q&&Y.autoplayStop();Y.setItem(0);break;case 35:Q&&Y.autoplayStop();Y.setItem(ae-1);break;case 39:Q&&Y.autoplayStop();Y.next();break;case 37:Q&&Y.autoplayStop();Y.prev();break}}})}function Z(){ac(ah);ac(V);ac(T);T.parent().css({width:L+"px",overflow:"hidden"});T.find("li").css({"float":"left",width:L+"px"});T.css({width:(L*ae)+"px","list-style-type":"none",overflow:"hidden"});if(V&&P!==0){V.css({width:(P*ae)+"px","list-style-type":"none",overflow:"hidden"})}}this.autoplayStart=function(){if(N!==null){Y.autoplayStop()}N=setInterval(function(){Y.next(true)},M)};this.autoplayStop=function(){clearInterval(N);N=null};this.show=function(ai){if(ai&&ai.delay){setTimeout(ad,ai.delay)}else{ad()}};this.hide=function(){ah.hide();S=false};function ad(){ah.show();S=true}this.removeItem=function(ak){var aj=(typeof ak=="number")?T.children()[ak]:ak;var ai=Y.index(aj);$(aj).remove();V&&$(V.children()[ai]).remove();ae--;if(W==ai){W--;if(W<=0){W=0}}Y.showCurrentItem()};this.move=function(ai){T.css({"-webkit-transform":"translate("+-(W*L-ai)+"px)","-moz-transform":"translate("+-(W*L-ai)+"px)",transform:"translate("+-(W*L-ai)+"px)"})};this.moveTabs=function(ai){V&&V.css({"-webkit-transform":"translate("+-(U*P-ai)+"px)","-moz-transform":"translate("+-(U*P-ai)+"px)",transform:"translate("+-(U*P-ai)+"px)"})};this.prev=function(){W--;if(W<0){W=0;onHitStart()}Y.showCurrentItem()};this.next=function(ai){W++;if(W==ae){W=(ai)?0:ae-1;onHitEnd()}Y.showCurrentItem()};this.prevTabs=function(){U-=ab;if(U<=0){U=0}Y.showCurrentItem(true)};this.nextTabs=function(){U+=ab;if(U>=ae-ab){U=ae-ab}Y.showCurrentItem(true)};this.setItemByThumb=function(ai){Y.setItem(Y.index(ai))};this.getCurrent=function(){return W};this.index=function(ak){ak=$(ak);var ai=ak.parent().children();for(var aj=0;aj<ai.length;aj++){if(ai[aj]==ak[0]){return aj}}return -1};this.setItem=function(ai){W=ai;Y.showCurrentItem()};this.showCurrentItem=function(al){var ak=(al&&V)?V:T;var ai=(al&&V)?-(U*P):-(W*L);O(ak);ak.css({"-webkit-transform":"translate("+ai+"px)","-moz-transform":"translate("+ai+"px)",transform:"translate("+ai+"px)"});X&&X(W);T.find(".active").removeClass("active");$(T.children("li")[W]).addClass("active");if(V){V.find(".active").removeClass("active");$(V.children("li")[W]).addClass("active")}if(!al){var aj=Math.floor(W/ab)*ab;if(aj!=U){U=aj;Y.showCurrentItem(true)}}};function ag(ai){ai.css({"-moz-transition":"-moz-transform 0s","-webkit-transition":"-webkit-transform 0s",transition:"transform 0s"})}function O(ai){ai&&ai.css({"-moz-transition":" -moz-transform "+af+"s ease-out","-webkit-transition":"-webkit-transform "+af+"s ease-out",transition:"transform "+af+"s ease-out"})}function ac(ai){ai&&ai.css({"-webkit-transform":"translate3d(0px, 0px, 0px) rotate(0deg) scale(1)","-webkit-box-sizing":"border-box","-webkit-backface-visibility":"hidden"})}}function E(){var S=this,X,T,M,L,Z,R=[],U,aa,N=document.getElementsByTagName("head")[0],P={vScrollbar:true,hScroll:false,useTransform:false},O;var W=function(){var ad=$("."+M);return(ad.length>0)};var Y=function(){if(ab()){X.Log&&X.Log.info(X.Env.getInfo().platform+" "+X.Env.getInfo().version+" has fixed positioning so using position: fixed");aa.css({position:"fixed",top:0,left:0,width:"100%","z-index":2});$contents.css({top:aa.get(0).offsetHeight+"px",height:"auto","z-index":1})}else{X.Log&&X.Log.info(X.Env.getInfo().platform+" "+X.Env.getInfo().version+" has NO fixed positioning so using iScroll");if(R.length==0){document.body.addEventListener("touchmove",function(aw){},false)}for(var ap=0,aq=$contents.length;ap<aq;ap++){var ad=$contents[ap];var av=$(ad);var am=ad.getAttribute("id");if(R[am]){R[am].refresh.call(R[am])}else{if(!(O.disableIScroll&&O.disableIScroll[am])){av.css({visibility:"hidden",display:"block"});var au={};for(k in P){au[k]=P[k]}var af=$(ad).children("*");var al=af.length===1;if(!al){var ag=document.createElement("div");ag.className=T+"created";ag.style.width="100%";for(var ap=0,aq=ad.children.length;ap<aq;ap++){alert(ad.children[ap]);ag.appendChild(ad.children[ap])}ad.appendChild(ag)}else{af[0].style.width="100%"}if(O.pullToRefresh===am){var at="touchy-pulldown",aj="touchy-pulldown-icon",an="touchy-pulldown-flip",ak="touchy-pulldown-loading",ae="touchy-pulldown-label",ao={pull:"Pull down to refresh...",release:"Release to refresh...",loading:"Loading..."};var ah="#"+at+" {     background:#000000;     height:40px;     line-height:40px;     padding:5px 10px;     font-weight:bold;     font-size:14px;     color:#888888;     visibility:hidden}#"+at+" ."+aj+" {     display:block; float:left;     width:40px; height:40px;     background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAAt1BMVEX////FxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcU7SVrkAAAAPHRSTlMAAPONxyCMRvCjM2n59gzeD/xssVo52Akwh6sDpeTbckJLZroqfhUnRernVxifG9XDgb2ZzzxjeLThEmBcLCjmAAACDklEQVR4Xu2Y124yQQyFM9sh9BJafgik956/7fs/V4RCwiITbMdjCSGfKy4On7THnuLZ8yGTyRWUr1W54NgNIC4Dbm+VrQ+tbQxoQAMa0IAGnO4vtR44WBquCcBuJadrSslwQucNaBm2qbyHEQ3YqNN4l3fUKpdpMV7Q26ZF4T3S+5AU49OIA8RjvLpxDCAeY/PIcYB4jKf8tTzcxDt2fGBt/D3v19kPgK5fRQLkAt0MCZANdIdIgGxg7WBjgHygO1kTY/NVMla8QeBvJwHCGP84CRDG+PefBAhjrHTlo9n/InDiY9a7XfLazgewd//Jqze8AN15sAiw7Gu87XwAW/7m5ec5b+j8AXsveT6uSYAwxmrf7xNBZ+aYQJPJZDLh+20aRlkWhen8twdgnCyO0SCJfQDjUv6lUuwBmOQFJXJgGhSBQSoGhvmKQnFNo1VgBD3MmmarwAx6WDWFQOhh1RR+MvSwagqLwqw7/ndW3UkfCD2bhJcAephAvJGYn4y3OrMouIfZNriH19i4h7v0cI9ww4ce4ZEEPTt6/uJ+UdS4H28G1C9qV9yPLyjUL1vyuB/dlLh+dNtE/dpA+SdrF0XeNsqNLV96+puDfPvaaukfUvJjVP+gl19F9C9L8uuc/oVTfiXWv7TLxwr9wUc+msmHR/3xVj6A6z8RSBej/jMLp+76T1X6j2m7eP6aTO9STHV4CXebKAAAAABJRU5ErkJggg%3D%3D); 0 0 no-repeat;     -webkit-background-size:40px 80px; background-size:40px 80px;     -webkit-transition-property:-webkit-transform;     -webkit-transition-duration:250ms;     -webkit-transform:rotate(0deg) translateZ(0);}#"+at+"."+an+" ."+aj+" {     -webkit-transform:rotate(-180deg) translateZ(0);}#"+at+"."+ak+" ."+aj+" {     background-position:0 100%;     -webkit-transform:rotate(0deg) translateZ(0);     -webkit-transition-duration:0ms;     -webkit-animation-name:"+ak+";     -webkit-animation-duration:2s;     -webkit-animation-iteration-count:infinite;     -webkit-animation-timing-function:linear;}@-webkit-keyframes "+ak+" {     from { -webkit-transform:rotate(0deg) translateZ(0); }     to { -webkit-transform:rotate(360deg) translateZ(0); }}";x("style",N,{type:"text/css",innerHTML:ah});var ai='<div id="'+at+'">    <span class="'+aj+'"></span>    <span class="'+ae+'">'+ao.pull+"</span></div>";af.prepend(ai);$pullDownElement=$("#"+at);$pullDownLabelClass=$pullDownElement.find("."+ae);pullDownOffset=$pullDownElement[0].offsetHeight;var ar={onRefresh:function(){$pullDownElement.css("visibility","visible");$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ao.pull)},onScrollMove:function(){if(this.y>5&&!$pullDownElement.hasClass(an)){$pullDownElement.addClass(an);$pullDownLabelClass.html(ao.release);this.minScrollY=0}else{if(this.y<5&&$pullDownElement.hasClass(an)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ao.pull);this.minScrollY=-pullDownOffset}}},onScrollEnd:function(){if($pullDownElement.hasClass(an)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ao.loading);if(doat_config.pullToRefreshCB){doat_config.pullToRefreshCB()}R[am].refresh.call(R[am]);$pullDownElement.parent().css("-webkit-transform","translate3d(0px, -"+pullDownOffset+"px, 0px) scale(1)")}},topOffset:pullDownOffset,useTransition:true,useTransform:true};for(k in ar){au[k]=ar[k]}}R[am]=new iScroll(am,au);av.bind("touchstart",{id:am},function(aw){var ax=aw.data.id;R[ax].refresh.call(R[ax])});av.css({display:"none",visibility:"visible"})}}}}};this.init=function(ad){O=ad;U=$(document.body);X=window.TouchyJS;T="tml_";M=T+"content";L=T+"header";Z=T+"scrollable";$contents=U.children("."+M);X.Env.addEventListener("orientationChange",Q);if($contents.length>0){Q($contents);var ae=O.displayContent||0,af=$contents[ae];$(af).css("display","block");X.Nav.setCurrent(af)}};function V(){document.body.removeEventListener("touchstart",V);var ad=X.Nav.getCurrent();$(ad).css("height",window.screen&&window.screen.availHeight+"px"||"1000px");window.scrollTo(0,0);setTimeout(function(){S.refreshAll()},1000)}function Q(ae){ae=ae&&ae.length?ae:U.children("."+M);aa=aa||U.children("."+L);var ad=aa.length?aa[0].offsetHeight:0,af=window.innerHeight-parseInt(U.css("margin-top"),10)-parseInt(U.css("margin-bottom"),10)-ad;ae.css({width:"100%",position:"absolute",top:ad+"px"});if(O.fixedPositioning){Y(O.fixedPositioning==="capableOnly")}}this.refresh=function(ae,ad){ae=ae||X.Nav.getCurrent().getAttribute("id");if(ad){$("#"+ae).children("*").css("height",ad+"px")}if(R[ae]){R[ae].refresh()}};this.refreshAll=function(){Q()};this.scrollTo=function(af){var ad=X.Nav.getCurrent(),ae=ad.getAttribute("id");if(R[ae]){R[ae].scrollTo(0,af,0)}else{ad.scrollTop=af}};this.disable=function(){var ad=X.Nav.getCurrent(),ae=ad.getAttribute("id");if(R[ae]){R[ae].disable()}};this.enable=function(){var ad=X.Nav.getCurrent(),ae=ad.getAttribute("id");if(R[ae]){R[ae].enable()}};var ab=function(){if(!X.Env.isMobile()){return true}var ad=X.Env.getInfo();p=ad.platform,v=ad.version;if(p==="iphone"||p==="ipad"){return ac(v,"5")}else{if(p==="android"){return ac(v,"2.2")}}return false};function ac(ah,ag){var af=ah.split(".");var ae=ag.split(".");for(var ad=0;ad<af.length;++ad){if(ae.length==ad){return true}if(af[ad]==ae[ad]){continue}else{if(parseInt(af[ad],10)>parseInt(ae[ad],10)){return true}else{return false}}}if(af.length!=ae.length){return false}return true}}function f(M,S,R){R&&R.info("platform="+M);var L=document.body.style.animationName,P=["Webkit","Moz","O","ms","Khtml"];if(!L){for(var Q=0;Q<P.length;Q++){if(document.body.style[P[Q]+"AnimationName"]!==undefined){CSS_PREFIX="-"+P[Q].toLowerCase()+"-";L=true;break}}}if(!L){return false}var N=["scale","rotate","skew","translate","matrix"];T();$.fn.fadeIn=function(){var W=h(arguments);return $(this).animate({opacity:1},W.dur,W.ease,W.cb)};$.fn.fadeOut=function(){var W=h(arguments);return $(this).animate({opacity:0},W.dur,W.ease,W.cb)};$.fn.animate=function(){var ae=this;var Z,ac,W,Y,ab=[];for(var aa=1;aa<arguments.length;aa++){var ad=arguments[aa];if(typeof ad==="function"){ab.push(ad)}else{if(ad==="fast"||ad==="slow"){W=ad}else{if(typeof ad==="string"){Y=ad}else{W=ad}}}}ac=arguments[0];ac[CSS_PREFIX+"transform"]="";for(Z in ac){var X;if(ac[Z].toString().indexOf("=")!==-1){ac[Z]=V(ae,Z,ac[Z])}if(O(Z)){ac[CSS_PREFIX+"transform"]+=Z+"("+ac[Z]+")";delete ac[Z]}else{if(Z==="left"||Z==="right"){X=(Z==="right")?U(ac[Z]):ac[Z];ac[CSS_PREFIX+"transform"]+="translateX("+X+")";delete ac[Z]}else{if(Z==="bottom"||Z==="top"){X=(Z==="bottom")?U(ac[Z]):ac[Z];ac[CSS_PREFIX+"transform"]+="translateY("+X+")";delete ac[Z]}}}}W=(W==="fast")?0.2:(W==="slow")?0.6:W/1000||0.3;Y=(!Y||Y==="swing")?"ease-in-out":Y;if(ab.length>0){setTimeout(function(){var ag,af=ab.length;for(ag=0;ag<af;ag++){ab[ag].call(ae)}},W*1000)}ac[CSS_PREFIX+"transition"]="all "+W+"s "+Y;return ae.css(ac)};function O(W){for(var X=0;X<N.length;X++){if(W.indexOf(N[X])!==-1){return true;break}}return false}function U(W){W=W.toString();return(W.indexOf("-")===0)?W.substring(1,W.length):"-"+W}function V(X,aa,Z){var ad=(Z.indexOf("-=")!==-1)?-1:1;Z=Z.toString();var W=parseInt(Z.substring(2,Z.length),10).toString();var Y=Z.substring(2+W.length,Z.length);var ac=X.css(aa);ac=(ac&&ac!=="")?parseInt(ac,10):0;var ab=ac+(ad*W)+Y;return ab}function T(){var W={};if(M!=="android"){W[CSS_PREFIX+"transform"]="translate3d(0px, 0px, 0px) rotate(0deg) scale(1)";W[CSS_PREFIX+"box-sizing"]="border-box";W[CSS_PREFIX+"backface-visibility"]="hidden";R&&R.info("Including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}else{R&&R.info("not including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}$(".doml_content").css(W)}}function h(M){var O={};for(var N=0;N<M.length;N++){var L=M[N];if(typeof L==="function"){O.cb=L}else{if(L==="fast"||L==="slow"){O.dur=L}else{if(typeof L==="string"){O.ease=L}else{O.dur=L}}}}return O}var d=function(){var ai=this,R={},X=document.getElementsByTagName("head")[0],ah=$(document.body),au=null,af=null,S=null,M=null,aj=null,Z=false,T=textConnect=textConnecting=null,N=null;var ak=false,an=null,am=[];var ac=null,ap=null,ag="isFBUser",W="",ab=1,at=2,ar="doml-facebook",U="doml-facebook-loggedin";var ae={textDialog:"Welcome<br />Please login",textConnect:"Login with Facebook",textConnecting:"Connecting..."};this.init=function(av,aw){av&&(R=av);if(ak||(!aw&&!R.login&&!P())){return}ac=R.appId;ap=R.channel||"http://"+window.location.hostname+"/channel.php";T=R.textDialog||ae.textDialog;textConnect=R.textConnect||ae.textConnect;textConnecting=R.textConnecting||ae.textConnecting;W=R.namespace||"";V();O();$elLoginCancel=$("#doat-fb-login-cancel");au=$("#doat-fb-login");S=au.find(".button");aj=S.find(".button-loading");M=S.find(".button-real");au.find(".content").html(T);M.find(".text").html(textConnect);aj.find(".text").html(textConnecting);S.bind("touchstart",function(ax){ax.preventDefault();ax.stopPropagation();ai.login()});af=$('<div id="doat-fb-overlay"></div>');ah.append(af);af.bind("touchstart",function(ax){ax.preventDefault();ax.stopPropagation()});ah.addClass(ar);if(R.permissions){N=R.permissions}Q();ao();ak=true};this.forceInit=function(){ai.init(null,true)};function Q(){if(aq.get(ag)!=at){$(document.body).addClass("loggedout");S.find(".button-loading").removeClass("active");S.find(".button-real").addClass("active");af&&af.show();au.show();var ax=document.body.scrollTop||document.documentElement.scrollTop;var aw=window.innerHeight/2+ax;au.css({top:aw+"px","margin-top":-(au.height()/2+20)+"px"});au.bind("touchstart",function(ay){ay.preventDefault()});if(Spinner){var av={lines:8,length:2,width:3,radius:3,color:"#fff",speed:1,trail:60,shadow:false};loading=new Spinner(av).spin(aj.find(".icon")[0])}}}function ao(){var ax=$('<div id="fb-root"></div>');ah.append(ax);var ay=document,aw,az="facebook-jssdk",av=ay.getElementsByTagName("script")[0];aw=ay.createElement("script");aw.id=az;aw.async=true;aw.src="//connect.facebook.net/en_US/all.js";av.parentNode.insertBefore(aw,av)}this.onFBInit=function(){FB.init({appId:ac,channelUrl:ap,status:true,cookie:true,xfbml:false});FB.getLoginStatus(function(av){Z=av.status==="connected";if(av.status==="connected"){L(N,ad,function(){ai.login()})}else{ai.showLogin()}})};window.fbAsyncInit=ai.onFBInit;this.showLogin=function(){aq.set(ag,ab);Q();FB.Event.subscribe("auth.statusChange",function(av){Z=av.status==="connected";if(Z){ad()}else{Y()}})};this.hideLogin=function(){au.hide();af&&af.hide();$(document.body).removeClass("loggedout");Z=true};this.login=function(){if(!ak){ai.forceInit();return}if(!aq.get(ag)){aq.set(ag,ab)}FB.login(function(av){if(av.status!=="connected"){Y()}else{ad()}},(N?{scope:N}:null))};this.logout=function(){};this.loggedIn=function(){return Z};this.action=function(av){var ax=av.fb.namespace||W;var ay=null;var aw=new al();aw.init(av.fb.shortname);for(key in av.fb.data){av.fb.data[key]=aw.addToLink(av.fb.data[key])}FB.api("/me/"+ax+":"+av.fb.action,"post",av.fb.data,function(az){aw.handleAPICallback(av,az)})};this.share=function(av){if(!av||!av.fb||!av.app){return}if(!ak){ai.onLogin(function(){ai.share(av)});ai.forceInit();return}var ax={method:"feed",link:av.fb.link||"http://"+window.location.hostname,message:av.fb.message||null,picture:av.fb.picture||null,name:av.fb.name||null,description:av.fb.description||null,caption:av.fb.caption||null};var aw=new al();aw.init(av.fb.shortname);ax.link=aw.addToLink(ax.link);FB.ui(ax,function(ay){aw.handleAPICallback(av,ay)})};function al(){var ax="",av=null,ay="flyapps.me";this.init=function(aA){var az=window.location.host.split(".");if(!aA){aA=az[0]}az.splice(0,1);ay=az.join(".");ax=aA+"-"+(new Date()).getTime()};this.addToLink=function(az){if(az){if(az.indexOf("?")!==-1){az+="&token="+ax}else{az+="?token="+ax}return az}return false};this.handleAPICallback=function(aC,aB){if(!aB||aB.error){aC.fb.onError&&aC.fb.onError()}else{aC.app.onSuccessInit&&aC.app.onSuccessInit();var aA=null;var az=null;if(aB){az=aB.post_id}var aD={app:{id:aC.app.app_id,name:aC.app.app_name,link:aC.app.app_link||aC.fb.link,image:aC.app.app_image||null},fb:aC.fb,post:{profile_id:null,profile_name:null,profile_image:null,message:null,created:null}};a.FB.getUser(function(aE){aC.app.getUser&&aC.app.getUser(aE);aD.post.profile_id=aE.id;aD.post.profile_name=aE.name;aD.post.profile_image="http://graph.facebook.com/"+aE.id+"/picture";if(az){aw(aD);a.FB.getPostData(az,function(aF){aC.app.onGetPostData&&aC.app.onGetPostData(aF);if(aF.picture){aD.app.image=decodeURIComponent(aF.picture.match(/&src=(.+)/)[1])}if(aF.message){aD.post.message=aF.message}if(aF.created){aD.post.created=aF.created}aw(aD,function(){aC.fb.onSuccess&&aC.fb.onSuccess()})},function(){aC.fb.onSuccess&&aC.fb.onSuccess()})}else{aw(aD,function(){aC.fb.onSuccess&&aC.fb.onSuccess()})}})}};function aw(az,aA){av&&av.abort();av=$.getJSON("http://developer."+ay+"/facebook/updateToken.php?token="+ax+"&data="+encodeURIComponent(JSON.stringify(az))+"&callback=?",function(aB){aA&&aA(aB)})}}this.getUser=function(av,aw){if(an){aa(an,av,aw)}else{FB.api("/me",function(ax){aa(ax,av,aw)})}};function aa(aw,av,ax){an=aw;if(!aw||aw.error){ax&&ax(aw)}else{av&&av(aw)}}this.getPostData=function(aw,av,ax){if(!aw){return null}FB.api(aw,"get",function(ay){if(!ay||ay.error){ax&&ax(ay)}else{av&&av(ay)}});return true};function P(){return aq.get(ag)}function L(ax,av,aw){if(!ax){av&&av();return}var az="select "+ax+" from permissions where uid=me()";var ay=FB.Data.query(az);ay.wait(function(aA){var aC=true;var aB=new Array();aB=ax.split(",");$.each(aB,function(aD,aE){if(aA[0][aE]!=1){aC=false;return}});if(aC){av&&av()}else{aw&&aw()}})}this.onLogin=function(av){am.push(av)};function ad(){aq.set(ag,at);ah.addClass(U);ai.hideLogin();for(var av=0;av<am.length;av++){am[av]()}}function Y(){}function V(){var av='#doat-fb-login {position: absolute;left: 50%;width: 260px;margin: 0 0 0 -150px;background: rgba(0, 0, 0, .8);padding: 20px;border-radius: 10px;color: #fff;text-shadow: 0 1px 3px rgba(0, 0, 0, .3);text-align: center;font-size: 18px;z-index: 600;display: none;}#doat-fb-login .button {position: relative;font-weight: bold;margin-top: 20px;height: 44px;line-height: 44px;font-size: 17px;border: 1px solid #2e4687;text-shadow: 0 1px 0 rgba(0, 0, 0, .5);cursor: pointer;-moz-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-webkit-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-ms-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;background: #485f9a;background: -moz-linear-gradient(center top, #5670ad 0, #3c4e88 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #5670ad), color-stop(1, #3c4e88));border-radius: 5px;}#doat-fb-login .button .c {position: absolute;top: 0;bottom: 0;left: 0;right: 0;padding-left: 45px;opacity: 0;pointer-events: none;-moz-transition: all .3s linear;-webkit-transition: all .3s linear;-ms-transition: all .3s linear;transition: all .3s linear;}#doat-fb-login .button .c.active {opacity: 1;pointer-events: auto;}#doat-fb-login .button .button-loading .text {opacity: .5;}#doat-fb-login .button .icon {position: absolute;top: 0;bottom: 0;left: 0;width: 45px;border-right: 1px solid #2e4687;-moz-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-webkit-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-ms-box-shadow: -1px 1px 0 0 #8d9fc8 inset;box-shadow: -1px 1px 0 0 #8d9fc8 inset;border-radius: 5px 0 0 5px;}#doat-fb-login .button .button-real .icon:before {content: "";position: absolute;top: 50%;left: 50%;width: 32px;height: 32px;margin: -15px 0 0 -16px;background-image:url(http://cdn0.flyapps.me/developer/facebook/fb.png);background-size: 31px 32px}#doat-fb-login-cancel {color: #ccc;cursor: pointer;font-size: 15px;margin-top: 20px;display: none;}#doat-fb-login-cancel span {text-decoration: underline;}#doat-fb-overlay {position: absolute;height: 1000px;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0,0,0,.5);z-index: 500;display: none;}';x("style",X,{innerHTML:av})}function O(){var av=document.createElement("div");av.id="doat-fb-login";av.innerHTML='<div class="content"></div><div class="button"><div class="c button-loading"><span class="icon"></span><span class="text"></span></div><div class="c button-real"><span class="icon"></span><span class="text"></span></div></div><div class="cancel" id="doat-fb-login-cancel"></div>';document.body.appendChild(av)}var aq=new function(){this.get=function(aw){var ax=null;if("localStorage" in window){try{ax=localStorage[aw]}catch(av){}}return ax};this.set=function(aw,ax){if(!"localStorage" in window){return false}try{localStorage[aw]=ax}catch(av){return false}return true}}};var q=function(){var Q=this,Y="Viewport",aa,R,V={},W={portrait:560,landscape:340},Z={portrait:416,landscape:250},ab,U="viewport-height",T,N=86400000,S=false;this.STORAGE="storage";this.ENV="env";this.DETECTED="detected";this.init=function(ac){aa=ac.$container;logger=ac.logger;ab=ac.Storage;T=L()||{}};this.setHeight=function(af){var ae=O();!af&&(af={});if(V[ae]){Q.hideAddressBar();setTimeout(Q.hideAddressBar,1000);af.callback&&af.callback();return false}if(!T[ae]){var ad=a.Env.getScreen().height;if(ad){X(ad,ae,Q.ENV,af.callback);Q.hideAddressBar();P(ae,ad)}else{var ac=$('<div id="viewportTestElement" style="height: 2000px; width: 100%;">&#160;</div>');aa.append(ac);Q.hideAddressBar();setTimeout(function(){M(ae,af.callback)},2000)}}else{X(T[ae],ae,Q.STORAGE,af.callback)}return true};this.getHeight=function(){return{value:aa.height(),source:R}};this.hideAddressBar=function(){window.setTimeout(function(){window.scrollTo(0,1)},0)};this.shouldRecalculate=function(ac){ac&&(S=ac);return S};this.getTestHeight=function(ac){return W[ac]};function O(){return a.Env.getInfo().orientation.name}function M(ad,ac){if(window.innerHeight>=Z[ad]){X(window.innerHeight,ad,Q.DETECTED,ac);P(ad,window.innerHeight);Q.hideAddressBar()}else{setTimeout(function(){M(ad,ac)},1000)}}function P(ac,ad){}function L(){return undefined}function X(ad,af,ai,ac){var ag=document.createElement("style");ag.id="viewport-"+af;var ae="";ae+=".orientation-"+af+"{min-height:"+ad+"px; position: relative; top: auto; left:auto; bottom: auto; right: auto}";ae+=".orientation-"+af+" #viewportTestElement {display: none}";ag.innerHTML=ae;document.getElementsByTagName("head")[0].appendChild(ag);V[af]=true;R=ai;var ah={};ah[af]={height:ad};a.Env.setScreen(ah);ac&&ac(ai)}};function m(){var X=this,ae,P=document.getElementsByTagName("HEAD")[0],Q,T,N,V,U,ag,Y,L,ab,aa,af,ac,R={},M=(typeof doat_jsa!=="undefined"&&doat_jsa);if(typeof doat_config!=="undefined"){R=o(R,doat_config)}R.hasHost=/\sevme\//.test(navigator.userAgent);this.init=Z;this.renderHTML=O;this.openLink=W;this.getSearchQuery=ad;this.visible=this.focused=false;this.Log=new J();this.Events=new F();N=new K();this.Env=this.Environment=N;ab=N.getInfo();if(N.isMobile()){x("META",P,{name:"viewport",content:"width=device-width initial-scale=1 minimum-scale=1 maximum-scale=1 user-scalable=0"});if(ab.platform.name==="iphone"){x("META",P,{name:"apple-mobile-web-app-capable",content:"yes"})}$(document.body).css("-webkit-text-size-adjust","none")}var S=function(al,ai){if(!ai){return al}for(var ah in ai){var ak=new RegExp("{"+ah+"}","g");var aj=ai[ah];al=al.replace(ak,aj)}return al};function Z(){ae=$(document);T=new e();X.DOML=T;Q=new I();Q.setAuthFunc(function(ak){if(ak.source===top.window){return{error:"OK",attachData:{source:ak.source}}}else{return{error:"Not authenticated",attachData:{origin:ak.origin}}}});X.Messenger=Q;if(M){this.Log.info("Analytics enabled");l(Q,N.isMobile())}else{this.Log.info("Analytics disabled")}U=new b({searchClearButton:R.searchClearButton});X.Searchbar=U;Y=new u();X.Slider=Y;L=new H();X.Swiper=L;ag=new E();X.Scroll=ag;V=new B(R);X.Navigation=X.Nav=V;Facebook=new d();if(R.facebook){Facebook.init(R.facebook)}X.Facebook=X.FB=Facebook;aa=new s();X.Extractor=aa;ac=new q();X.Viewport=ac;$(window).bind("load",function(){Q.trigger(a.Events.WINDOW_LOADED)});X.Events.ready(function(){Q.trigger(a.Events.DOAT_READY)});X.Events.focused(function(){X.focused=true});X.Events.blurred(function(){X.focused=false});X.Events.visible(function(){X.visible=true});X.Events.hidden(function(){X.visible=false});Q.bind("focusState",function(al,ak){X.Events.dispatchEvent(ak.type)});ae.ready(function(){Q.trigger(a.Events.DOCUMENT_READY);T.parse();ac.init({Storage:af,"$container":$(document.body),logger:console});ac.setHeight();ac.hideAddressBar();N.addEventListener("orientationchange",function(){ac.setHeight();ac.hideAddressBar()});ag.init(R);V.init(R);y(document.body,"doml-env-"+ab.platform.name);ab.browser.name&&y(document.body,"doml-env-browser-"+ab.browser.name);if(N.isMobile()){y(document.body,"doml-env-mobile");if(R.webkitAnimation!==false){f(ab.platform.name,ab.browser.name,X.Log)}}$("body").bind("click",function(am){var al=am.target||am.originalTarget;var ak="";if(al){if(al.nodeName){ak=al.nodeName}if(al.className!=""){ak+="."+al.className}if(al.id!=""){ak+="#"+al.id}if(al.firstChild&&al.firstChild.nodeType===3){var ao=al.firstChild.nodeValue;ao=D(ao);if(ao!==""){ak+=' ("'+ao+'")'}}if(al.getAttribute("alt")&&al.getAttribute("alt")!==""){var an=al.getAttribute("alt");an=D(an);ak+=' ("'+an+'")'}}Q.trigger(a.Events.USER_ACTION,{action:"Click",element:ak})});X.Events.dispatchEvent("ready",{callOnce:true});if(R.browserHistory){V.initHistory()}});var aj=r();X.params={query:"",experience:"",platform:""};for(var ah in aj){if(ah.indexOf("do_")===0){var ai=ah.substring(3,ah.length);X.params[ai]=decodeURIComponent(aj[ah]).replace(/\+/g," ")}}Q.trigger(a.Events.PAGE_VIEW,{action:"PageView",query:X.params.query})}function ad(){return X.params.query||""}function O(am,al){var ai;if(typeof am==="string"){ai=am}else{var an="",ah=N.getInfo().platform.name;for(k in am){var ak=k.split(",");for(var aj=0;aj<ak.length;aj++){if(ak[aj]===ah){ai=am[k];break}else{if(ak[aj]==="default"){an=am[k]}}}if(!ai){ai=an}}}return S(ai,al)}function W(aA,aw){var aq,am=N.getInfo().platform.name,av=N.isMobile(),ak=aw||{};function ah(aC){return encodeURIComponent(encodeURIComponent(aC))}function aj(aC){if(typeof aC==="string"){aC={url:aC,newWindow:(!av),label:((aC.indexOf("itms-apps://")!==-1||aC.indexOf("itms://")!==-1||aC.indexOf("http://itunes.apple.com")!==-1)?"Download from App Store":(aC.indexOf("http://")!==0&&aC.indexOf("https://")!==0)?"Launch installed app":aC)}}return aC}function ap(aD){if(!aD){return aD}var aF;aD=(aD instanceof Array)?aD:[aD];if(av){aF={url:"doatJS://OpenLink"};for(var aE=0,aC=aD.length;aE<aC;aE++){var aG=aj(aD[aE]);if(aG.newWindow&&aG.url.indexOf("http")===0){aG.url="doatBrowser://"+aG.url}aG.url=ah(aG.url);aF.url+="/"+aG.url}}else{aF=aj(aD[0])}return aF}for(platform in aA){var al=platform.split(",");for(var az=0,ay=al.length;az<ay;az++){if(D(al[az])===am){if(typeof aA[platform]==="string"){aA[platform]=new Array(aA[platform])}aq=aA[platform];break}}if(aq){break}}if(!aq){aq=new Array(aA["default"])}if(aq.length==1){location.href=aq[0];return true}var aB=document.getElementById("alertView");if(!aB){var ao="#doatOpenWin ul { list-style-type: none; }#doatOpenWin ul li { padding: 6px 0; }#doatOpenWin ul li a { color: #fff; text-decoration: none; font-size: 13px; }#alertView{text-align: center;width: 250px;position: absolute;left: 50%;margin-left: -135px;border: 2px solid #fff;border-radius: 20px;-moz-border-radius: 20px;-webkit-border-radius: 20px;background:  rgba(59, 80, 119, 0.9) ;box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);overflow:hidden;z-index:1000;padding:10px;display:none;}#alertView div#shine {position: absolute;top: -1474px;height: 1500px;width: 1500px;border-radius: 1500px;-moz-border-radius: 1500px;-webkit-border-radius: 1500px;background: rgb(255, 255, 255);left: -626px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0, rgba(59,81,119, 0.5)),color-stop(0.06, rgba(255,255,255, 0.5)));background:    -moz-linear-gradient(center bottom,rgba(59,81,119, 0.5) 0%,rgba(255,255,255, 0.5) 4%);opacity: 1;filter: alpha(opacity = 05);z-index: 5;}#alertView h2, #alertView p{color: white;margin: 0;padding: 5px 10px;font: 12px / 1.1em Helvetica, Arial, sans-serif;position: relative;z-index: 20;}#alertView h2{text-align:center;font: 18px / 1.1em Helvetica, Arial, sans-serif;}#alertView div.button.white{background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button{margin: 0 auto 6px;display: block;background: rgb(69, 90, 129);border: 1px solid rgb(59, 80, 119);border: 1px solid rgba(59, 80, 119, 1);border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button p{text-align: center;margin: 0;padding: 0;}#alertView div.button p a{color: #333333;color: rgba(255, 255, 255, 1);text-decoration: none;font: bold 14px/1.2em Helvetica, Arial, sans-serif;margin: 0;display: block;padding: 7px 0 10px;text-shadow: 0 1px 1px #5E5E5E;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;}#alertView div.button p a:active {-moz-box-shadow: 0 0 15px white;-webkit-box-shadow: 0 0 15px white;}";x("style",P,{innerHTML:ao});var ax=document.createElement("div");ax.id="doatOpenWin";var aB=document.createElement("div");aB.id="alertView";var au="<h2>Launching "+document.title+' app</h2><div class="links"></div>';au+='<div class="button" id="cancelButton"><p><a href="javascript://">Cancel</a></p></div>';au+='<div id="shine"></div>';aB.innerHTML=au;ax.appendChild(aB);document.body.appendChild(ax);ax.querySelector("#cancelButton").addEventListener("click",function(){aB.style.display="none"},false)}if(aq){var au="";for(var az=0;az<aq.length;az++){var an=aj(aq[az]);au+='<div class="button"><p><a href="'+an.url+'" '+((an.newWindow)?'target="_blank"':"")+">"+an.label+"</a></p></div>"}var ar=document.querySelector("#alertView .links");ar.innerHTML=au;var ai=ar.querySelectorAll("a");for(var at=0;at<ai.length;at++){ai[at].addEventListener("click",function(){aB.style.display="none"},false)}}aB.style.display="block";aB.style.top=document.body.scrollTop+40+"px"}}var a=new m();if(!(typeof doat_config!=="undefined"&&doat_config.manualInit==true)){a.init()}window.TouchyJS=window.Doat=a})();